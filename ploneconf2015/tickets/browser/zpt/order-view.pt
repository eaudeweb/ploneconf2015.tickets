<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"
  metal:use-macro="here/main_template/macros/master"
  i18n:domain="eea">

<body>

<div metal:fill-slot="content" class="bootstrap" tal:define="
    data python:view.data;
    billing python:data.get('billing', {});
    cart python:data.get('cart', []);
    ">

  <div class="row" style="min-height: 300px">
    <section id="customer" class="col-xs-4 text-left">
      <div class="name" tal:content="python:billing.get('name')">Customer name</div>
      <div class="address" tal:content="python:billing.get('address', '')">Address</div>
      <div class="postcode" tal:content="python:billing.get('postalcode', '')">Postal code</div>
      <div class="city" tal:content="python:billing.get('city', '')">City</div>
      <div class="country" tal:content="python:billing.get('country', '')">Country</div>
    </section>

    <section id="invoice" class="col-xs-4 text-center">
      <dl>
        <dt>Invoice date:</dt>
        <dd tal:content="view/date">Invoice date</dd>
        <dt>Invoice number:</dt>
        <dd tal:content="view/oid">Invoice number</dd>
    </section>

    <section id="edw" class="col-xs-4 text-right">
      <div class="name">SC Eau de Web SRL</div>
      <div class="address">148, Ion Mihalache, Bl. 8, Sc. A, Et. 9, Ap. 39</div>
      <div class="postcode">011206</div>
      <div class="city">Bucharest</div>
      <div class="country">Romania</div>
    </section>
  </div>

  <table class="table">
    <thead>
      <tr>
        <th>Description</th>
        <th>Quantity</th>
        <th>Price</th>
        <th>VAT (at 24%)</th>
        <th>Amount</th>
      </tr>
    </thead>
    <tbody>
      <tr tal:repeat="ticket cart">
        <td>
          <tal:early tal:condition="python:view.context.early_birds">Early bird</tal:early>
          Plone Conf. 2015 ticket -
          <tal:firstName tal:replace="python:ticket.get('firstName')">First Name</tal:firstName>
          <tal:lastName tal:replace="python:ticket.get('lastName')">First Name</tal:lastName>
        </td>
        <td>1</td>
        <td tal:content="python:view.render(context.price_per_item)">Price per item</td>
        <td tal:content="python:view.render(context.vat_per_item)">VAT per item</td>
        <td tal:content="python:view.render(context.price_per_item + context.vat_per_item)">Total price</td>
      </tr>
    </tbody>
    <tfoot class="table">
      <tr>
        <td colspan="3"></td>
        <td>Subtotal</td>
        <td tal:content="python:view.render(view.subtotal)">Subtotal price</td>
      </tr>
      <tr>
        <td colspan="3" style="border:none"></td>
        <td>VAT</td>
        <td tal:content="python:view.render(view.vat)">Total vat</td>
      </tr>
      <tr  style="border: none">
        <td colspan="3" style="border:none"></td>
        <td style="font-weight: bold">Total</td>
        <td tal:content="python:view.render(context.price)" style="font-weight: bold">Total price</td>
      </tr>
    </tfoot>
  </table>
</div>

</body>
</html>
